@tailwind base;
@tailwind components;
@tailwind utilities;


/* Custom base styles for macOS-like appearance */
@layer base {
  * {
    @apply box-border;
  }

  html, body {
    @apply font-inter bg-palantir-zinc-50 text-palantir-zinc-900;
    @apply dark:bg-palantir-zinc-950 dark:text-palantir-zinc-50;
    @apply transition-colors duration-200;
  }

  body {
    @apply overflow-hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  input, button, select, textarea {
    @apply font-inter;
  }
}

/* PalantirUI Base Styles */
@layer base {
  /* CSS Custom Properties for PalantirUI */
  :root {
    --pal-zinc-50: #fafafa;
    --pal-zinc-100: #f4f4f5;
    --pal-zinc-200: #e4e4e7;
    --pal-zinc-300: #d4d4d8;
    --pal-zinc-400: #a1a1aa;
    --pal-zinc-500: #71717a;
    --pal-zinc-600: #52525b;
    --pal-zinc-700: #3f3f46;
    --pal-zinc-800: #27272a;
    --pal-zinc-900: #18181b;
    --pal-zinc-950: #09090b;
    
    --pal-layer-1: rgba(250, 250, 250, 0.05);
    --pal-layer-2: rgba(250, 250, 250, 0.1);
    --pal-layer-3: rgba(250, 250, 250, 0.15);
    --pal-layer-4: rgba(250, 250, 250, 0.2);
    --pal-layer-5: rgba(250, 250, 250, 0.25);
    
    --pal-accent-blue: #3b82f6;
    --pal-accent-cyan: #06b6d4;
    --pal-accent-green: #10b981;
    --pal-accent-orange: #f97316;
    --pal-accent-red: #ef4444;
    
    --pal-glow-subtle: 0 0 20px rgba(59, 130, 246, 0.15);
    --pal-glow-medium: 0 0 40px rgba(59, 130, 246, 0.25);
    --pal-glow-strong: 0 0 60px rgba(59, 130, 246, 0.35);
  }

  .dark {
    --pal-dark-layer-1: rgba(9, 9, 11, 0.05);
    --pal-dark-layer-2: rgba(9, 9, 11, 0.1);
    --pal-dark-layer-3: rgba(9, 9, 11, 0.15);
    --pal-dark-layer-4: rgba(9, 9, 11, 0.2);
    --pal-dark-layer-5: rgba(9, 9, 11, 0.25);
  }

  /* PalantirUI base body styles */
  .palantir-body {
    @apply font-inter bg-palantir-zinc-50 text-palantir-zinc-900;
    @apply dark:bg-palantir-zinc-950 dark:text-palantir-zinc-50;
    @apply transition-colors duration-300;
  }
}

/* Custom component styles */
@layer components {
  /* macOS Buttons */
  .btn-macos {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-macos-blue text-white hover:bg-macos-blue-hover;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-blue focus:ring-opacity-50;
    @apply active:scale-95;
  }

  .btn-macos-secondary {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-gray-200 text-macos-text hover:bg-gray-300;
    @apply dark:bg-gray-700 dark:text-macos-text-dark dark:hover:bg-gray-600;
    @apply focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50;
    @apply active:scale-95;
  }

  .btn-macos-danger {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-macos-red text-white hover:bg-red-600;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-red focus:ring-opacity-50;
    @apply active:scale-95;
  }

  .btn-macos-success {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-macos-green text-white hover:bg-green-600;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-green focus:ring-opacity-50;
    @apply active:scale-95;
  }

  /* macOS Inputs */
  .input-macos {
    @apply w-full px-3 py-2 rounded-macos border border-macos-border;
    @apply bg-white text-macos-text placeholder-macos-text-secondary;
    @apply dark:bg-gray-800 dark:border-macos-border-dark dark:text-macos-text-dark;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-blue focus:border-transparent;
    @apply transition-all duration-150;
  }

  .textarea-macos {
    @apply input-macos resize-none;
  }

  .select-macos {
    @apply input-macos appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* macOS Toggle/Switch */
  .toggle-macos {
    @apply relative inline-flex h-6 w-11 items-center rounded-full;
    @apply bg-gray-200 transition-colors duration-200 ease-in-out;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-blue focus:ring-offset-2;
  }

  .toggle-macos.checked {
    @apply bg-macos-blue;
  }

  .toggle-macos-thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-white shadow-lg;
    @apply transition duration-200 ease-in-out;
    @apply translate-x-1;
  }

  .toggle-macos.checked .toggle-macos-thumb {
    @apply translate-x-6;
  }

  /* macOS Cards */
  .card-macos {
    @apply bg-white rounded-macos-lg shadow-macos border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply transition-all duration-200;
  }

  .card-macos-hover {
    @apply card-macos hover:shadow-macos-lg hover:scale-[1.02];
    @apply cursor-pointer;
  }

  /* macOS Sidebar */
  .sidebar-macos {
    @apply bg-macos-sidebar border-r border-macos-border;
    @apply dark:bg-macos-sidebar-dark dark:border-macos-border-dark;
    @apply backdrop-blur-macos bg-opacity-80;
    @apply dark:bg-opacity-80;
  }

  .sidebar-item {
    @apply flex items-center px-3 py-2 rounded-macos text-sm font-medium;
    @apply text-macos-text hover:bg-gray-200 transition-colors duration-150;
    @apply dark:text-macos-text-dark dark:hover:bg-gray-700;
  }

  .sidebar-item.active {
    @apply bg-macos-blue text-white;
    @apply dark:bg-macos-blue;
  }

  /* macOS Progress */
  .progress-macos {
    @apply w-full bg-gray-200 rounded-full h-2;
    @apply dark:bg-gray-700;
  }

  .progress-macos-bar {
    @apply bg-macos-blue h-2 rounded-full transition-all duration-300;
  }

  /* macOS Modal */
  .modal-macos {
    @apply fixed inset-0 z-50 overflow-y-auto;
  }

  .modal-macos-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm;
  }

  .modal-macos-content {
    @apply relative bg-white rounded-macos-xl shadow-macos-xl border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply max-w-md mx-auto mt-20 p-6;
  }

  /* macOS Context Menu */
  .context-menu-macos {
    @apply bg-white rounded-macos shadow-macos-xl border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply py-1 min-w-48;
  }

  .context-menu-item {
    @apply flex items-center px-3 py-2 text-sm cursor-pointer;
    @apply text-macos-text hover:bg-gray-100 transition-colors duration-150;
    @apply dark:text-macos-text-dark dark:hover:bg-gray-700;
  }

  .context-menu-separator {
    @apply my-1 border-t border-macos-border;
    @apply dark:border-macos-border-dark;
  }

  /* macOS Segmented Control */
  .segmented-macos {
    @apply inline-flex bg-gray-200 rounded-macos p-1;
    @apply dark:bg-gray-700;
  }

  .segmented-item {
    @apply px-3 py-1 text-sm font-medium rounded-macos-sm transition-all duration-150;
    @apply text-macos-text hover:text-macos-blue cursor-pointer;
    @apply dark:text-macos-text-dark dark:hover:text-macos-blue;
  }

  .segmented-item.active {
    @apply bg-white text-macos-blue shadow-sm;
    @apply dark:bg-gray-600 dark:text-white;
  }

  /* macOS Toast/Notification */
  .toast-macos {
    @apply bg-white rounded-macos-lg shadow-macos-xl border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply p-4 max-w-sm animate-slide-up;
  }

  .toast-success {
    @apply toast-macos border-l-4 border-l-macos-green;
  }

  .toast-error {
    @apply toast-macos border-l-4 border-l-macos-red;
  }

  .toast-warning {
    @apply toast-macos border-l-4 border-l-macos-orange;
  }

  .toast-info {
    @apply toast-macos border-l-4 border-l-macos-blue;
  }

  /* Recording Overlay */
  .recording-overlay {
    @apply fixed inset-0 z-50 bg-black bg-opacity-80 backdrop-blur-sm;
    @apply flex items-center justify-center;
  }

  .recording-content {
    @apply bg-white rounded-macos-xl shadow-macos-xl p-8 text-center;
    @apply dark:bg-gray-800;
    @apply animate-bounce-in;
  }

  .recording-pulse {
    @apply w-4 h-4 bg-macos-red rounded-full animate-pulse-soft;
  }

  /* Scrollbar styles */
  .scrollbar-macos {
    scrollbar-width: thin;
    scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
  }

  .scrollbar-macos::-webkit-scrollbar {
    @apply w-2;
  }

  .scrollbar-macos::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-macos::-webkit-scrollbar-thumb {
    @apply bg-gray-400 bg-opacity-50 rounded-full;
    @apply hover:bg-opacity-70 transition-all duration-150;
  }

  .scrollbar-macos::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }
}

/* PalantirUI Component Styles */
@layer components {
  /* PalantirUI Layer System */
  .pal-layer-1 { 
    background: var(--pal-layer-1); 
    backdrop-filter: blur(4px);
    @apply dark:bg-palantir-dark-layer-1;
  }
  
  .pal-layer-2 { 
    background: var(--pal-layer-2); 
    backdrop-filter: blur(8px);
    @apply dark:bg-palantir-dark-layer-2;
  }
  
  .pal-layer-3 { 
    background: var(--pal-layer-3); 
    backdrop-filter: blur(12px);
    @apply dark:bg-palantir-dark-layer-3;
  }
  
  .pal-layer-4 { 
    background: var(--pal-layer-4); 
    backdrop-filter: blur(16px);
    @apply dark:bg-palantir-dark-layer-4;
  }
  
  .pal-layer-5 { 
    background: var(--pal-layer-5); 
    backdrop-filter: blur(20px);
    @apply dark:bg-palantir-dark-layer-5;
  }

  /* PalantirUI Corner Markers */
  .pal-corner-marker {
    position: absolute;
    width: 12px;
    height: 12px;
    border: 2px solid var(--pal-accent-blue);
    opacity: 0.7;
    @apply animate-pal-corner-appear;
  }

  .pal-corner-marker-tl {
    top: -1px;
    left: -1px;
    border-right: none;
    border-bottom: none;
  }

  .pal-corner-marker-tr {
    top: -1px;
    right: -1px;
    border-left: none;
    border-bottom: none;
  }

  .pal-corner-marker-bl {
    bottom: -1px;
    left: -1px;
    border-right: none;
    border-top: none;
  }

  .pal-corner-marker-br {
    bottom: -1px;
    right: -1px;
    border-left: none;
    border-top: none;
  }

  /* PalantirUI Glow Effects */
  .pal-glow-subtle { 
    box-shadow: var(--pal-glow-subtle);
  }
  
  .pal-glow-medium { 
    box-shadow: var(--pal-glow-medium);
  }
  
  .pal-glow-strong { 
    box-shadow: var(--pal-glow-strong);
  }

  /* PalantirUI Geometric Borders */
  .pal-geometric-border {
    @apply border border-palantir-zinc-700 relative;
    @apply dark:border-palantir-zinc-600;
  }

  .pal-geometric-border::before {
    content: '';
    position: absolute;
    inset: 0;
    @apply border border-palantir-zinc-600 opacity-50;
    @apply dark:border-palantir-zinc-500;
    pointer-events: none;
  }

  .pal-geometric-border-glow {
    @apply pal-geometric-border;
    animation: pal-border-glow 3s ease-in-out infinite;
  }

  /* PalantirUI Button Styles */
  .pal-btn {
    @apply px-4 py-2 rounded-pal font-inter font-medium transition-all duration-200;
    @apply bg-palantir-zinc-100 text-palantir-zinc-900 border border-palantir-zinc-300;
    @apply hover:bg-palantir-zinc-200 hover:border-palantir-zinc-400;
    @apply focus:outline-none focus:ring-2 focus:ring-palantir-accent-blue focus:ring-opacity-50;
    @apply active:scale-95;
    @apply dark:bg-palantir-zinc-800 dark:text-palantir-zinc-100 dark:border-palantir-zinc-600;
    @apply dark:hover:bg-palantir-zinc-700 dark:hover:border-palantir-zinc-500;
  }

  .pal-btn-primary {
    @apply pal-btn bg-palantir-accent-blue text-white border-transparent;
    @apply hover:bg-blue-600;
    @apply focus:ring-palantir-accent-blue;
  }

  .pal-btn-secondary {
    @apply pal-btn bg-palantir-zinc-200 text-palantir-zinc-800 border-palantir-zinc-400;
    @apply hover:bg-palantir-zinc-300;
    @apply dark:bg-palantir-zinc-700 dark:text-palantir-zinc-200 dark:border-palantir-zinc-500;
    @apply dark:hover:bg-palantir-zinc-600;
  }

  .pal-btn-ghost {
    @apply pal-btn bg-transparent text-palantir-zinc-700 border-transparent;
    @apply hover:bg-palantir-zinc-100;
    @apply dark:text-palantir-zinc-300 dark:hover:bg-palantir-zinc-800;
  }

  /* PalantirUI Input Styles */
  .pal-input {
    @apply w-full px-3 py-2 rounded-pal border border-palantir-zinc-300;
    @apply bg-palantir-zinc-50 text-palantir-zinc-900 placeholder-palantir-zinc-500;
    @apply focus:outline-none focus:ring-2 focus:ring-palantir-accent-blue focus:border-transparent;
    @apply transition-all duration-200;
    @apply dark:bg-palantir-zinc-800 dark:border-palantir-zinc-600 dark:text-palantir-zinc-100 dark:placeholder-palantir-zinc-400;
  }

  /* PalantirUI Card Styles */
  .pal-card {
    @apply bg-palantir-zinc-50 rounded-pal-lg border border-palantir-zinc-200 shadow-pal-subtle;
    @apply dark:bg-palantir-zinc-800 dark:border-palantir-zinc-700;
    @apply transition-all duration-300;
    @apply animate-pal-card-fade-in;
  }

  .pal-card-hover {
    @apply pal-card hover:shadow-pal-medium hover:scale-[1.01];
    @apply hover:border-palantir-zinc-300;
    @apply dark:hover:border-palantir-zinc-600;
    @apply cursor-pointer;
  }

  .pal-card-glow {
    @apply pal-card pal-glow-subtle;
    @apply hover:pal-glow-medium;
  }

  /* PalantirUI Sidebar Styles */
  .pal-sidebar {
    @apply bg-palantir-layer-2 border-r border-palantir-zinc-200;
    @apply dark:bg-palantir-dark-layer-2 dark:border-palantir-zinc-700;
    @apply backdrop-blur-pal;
  }

  .pal-sidebar-item {
    @apply flex items-center px-3 py-2 rounded-pal text-sm font-inter font-medium;
    @apply text-palantir-zinc-700 hover:bg-palantir-layer-3 transition-all duration-200;
    @apply dark:text-palantir-zinc-300 dark:hover:bg-palantir-dark-layer-3;
  }

  .pal-sidebar-item.active {
    @apply bg-palantir-accent-blue text-white;
    @apply dark:bg-palantir-accent-blue;
  }

  /* PalantirUI Header Styles */
  .pal-header {
    @apply bg-palantir-layer-1 border-b border-palantir-zinc-200;
    @apply dark:bg-palantir-dark-layer-1 dark:border-palantir-zinc-700;
    @apply backdrop-blur-pal;
  }

  /* PalantirUI Panel Styles */
  .pal-panel {
    @apply bg-palantir-zinc-50 rounded-pal-lg border border-palantir-zinc-200;
    @apply dark:bg-palantir-zinc-800 dark:border-palantir-zinc-700;
    @apply shadow-pal-subtle;
  }

  /* PalantirUI Modal Styles */
  .pal-modal {
    @apply fixed inset-0 z-50 overflow-y-auto flex items-center justify-center;
  }

  .pal-modal-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 backdrop-blur-pal;
  }

  .pal-modal-content {
    @apply relative bg-palantir-zinc-50 rounded-pal-xl shadow-pal-strong border border-palantir-zinc-200;
    @apply dark:bg-palantir-zinc-800 dark:border-palantir-zinc-700;
    @apply max-w-md mx-auto p-6;
    @apply animate-pal-scale-in;
  }

  /* PalantirUI Text Styles */
  .pal-text-xs {
    @apply text-xs font-inter;
  }

  .pal-text-sm {
    @apply text-sm font-inter;
  }

  .pal-text-base {
    @apply text-base font-inter;
  }

  .pal-text-lg {
    @apply text-lg font-inter;
  }

  .pal-text-xl {
    @apply text-xl font-inter;
  }

  .pal-text-2xl {
    @apply text-2xl font-inter;
  }

  .pal-text-muted {
    @apply text-palantir-zinc-500;
    @apply dark:text-palantir-zinc-400;
  }

  /* PalantirUI Depth System */
  .pal-depth-1 { 
    z-index: 10;
    @apply pal-layer-1;
  }

  .pal-depth-2 { 
    z-index: 20;
    @apply pal-layer-2;
  }

  .pal-depth-3 { 
    z-index: 30;
    @apply pal-layer-3;
  }

  .pal-depth-4 { 
    z-index: 40;
    @apply pal-layer-4;
  }

  .pal-depth-5 { 
    z-index: 50;
    @apply pal-layer-5;
  }

  /* PalantirUI Scrollbar */
  .pal-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(161, 161, 170, 0.5) transparent;
  }

  .pal-scrollbar::-webkit-scrollbar {
    @apply w-2;
  }

  .pal-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .pal-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-palantir-zinc-400 bg-opacity-50 rounded-full;
    @apply hover:bg-opacity-70 transition-all duration-200;
  }

  .pal-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-palantir-zinc-500;
  }

  /* PalantirUI Toggle */
  .pal-toggle-container {
    @apply flex items-center;
  }

  .pal-toggle {
    @apply relative inline-block cursor-pointer transition-all duration-200;
  }

  .pal-toggle--small {
    @apply w-8 h-4;
  }

  .pal-toggle--medium {
    @apply w-11 h-6;
  }

  .pal-toggle--large {
    @apply w-14 h-8;
  }

  .pal-toggle__track {
    @apply absolute inset-0 rounded-full bg-palantir-zinc-300 transition-colors duration-200;
    @apply dark:bg-palantir-zinc-600;
  }

  .pal-toggle--checked .pal-toggle__track {
    @apply bg-palantir-accent-blue;
  }

  .pal-toggle__thumb {
    @apply absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full shadow-md transition-all duration-200;
  }

  .pal-toggle--small .pal-toggle__thumb {
    @apply w-2 h-2 top-0.5 left-0.5;
  }

  .pal-toggle--medium .pal-toggle__thumb {
    @apply w-2 h-2 top-1 left-1;
  }

  .pal-toggle--large .pal-toggle__thumb {
    @apply w-3 h-3 top-1 left-1;
  }

  .pal-toggle--checked .pal-toggle__thumb {
    @apply transform translate-x-5;
  }

  .pal-toggle--small.pal-toggle--checked .pal-toggle__thumb {
    @apply translate-x-3;
  }

  .pal-toggle--medium.pal-toggle--checked .pal-toggle__thumb {
    @apply translate-x-5;
  }

  .pal-toggle--large.pal-toggle--checked .pal-toggle__thumb {
    @apply translate-x-7;
  }

  .pal-toggle__thumb-inner {
    @apply w-full h-full rounded-full bg-white;
  }

  .pal-toggle--disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .pal-toggle-label {
    @apply ml-2 text-sm font-medium text-palantir-zinc-700 cursor-pointer;
    @apply dark:text-palantir-zinc-300;
  }

  .pal-toggle-label:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* PalantirUI Traffic Lights */
  .pal-traffic-lights {
    @apply flex space-x-2 p-3;
  }

  .pal-traffic-light {
    @apply w-3 h-3 rounded-full transition-all duration-150 cursor-pointer;
  }

  .pal-traffic-light:hover {
    @apply scale-110;
  }

  .pal-traffic-light-close {
    @apply bg-palantir-accent-red hover:bg-red-600;
  }

  .pal-traffic-light-minimize {
    @apply bg-palantir-accent-orange hover:bg-orange-600;
  }

  .pal-traffic-light-maximize {
    @apply bg-palantir-accent-green hover:bg-green-600;
  }
}

/* Utility classes */
@layer utilities {
  .glass-effect {
    @apply backdrop-blur-macos bg-opacity-80;
  }

  .text-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* PalantirUI Utilities */
  .pal-glow-on-hover {
    @apply transition-all duration-300;
  }

  .pal-glow-on-hover:hover {
    @apply pal-glow-medium;
  }

  .pal-corner-markers {
    @apply relative;
  }

  .pal-corner-markers::before,
  .pal-corner-markers::after {
    content: '';
    position: absolute;
    width: 12px;
    height: 12px;
    border: 2px solid var(--pal-accent-blue);
    opacity: 0.7;
  }

  .pal-corner-markers::before {
    top: -1px;
    left: -1px;
    border-right: none;
    border-bottom: none;
  }

  .pal-corner-markers::after {
    bottom: -1px;
    right: -1px;
    border-left: none;
    border-top: none;
  }
}

/* Traffic lights (window controls) */
.traffic-lights {
  @apply flex space-x-2 p-3;
}

.traffic-light {
  @apply w-3 h-3 rounded-full transition-all duration-150 cursor-pointer;
}

.traffic-light:hover {
  @apply scale-110;
}

.traffic-light.close {
  @apply bg-macos-red hover:bg-red-600;
}

.traffic-light.minimize {
  @apply bg-macos-yellow hover:bg-yellow-600;
}

.traffic-light.maximize {
  @apply bg-macos-green hover:bg-green-600;
}