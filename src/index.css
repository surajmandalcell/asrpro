@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles for macOS-like appearance */
@layer base {
  * {
    @apply box-border;
  }

  html, body {
    @apply font-sf text-macos-text bg-macos-bg;
    @apply dark:text-macos-text-dark dark:bg-macos-bg-dark;
    @apply transition-colors duration-200;
  }

  body {
    @apply overflow-hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  input, button, select, textarea {
    @apply font-sf;
  }
}

/* Custom component styles */
@layer components {
  /* macOS Buttons */
  .btn-macos {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-macos-blue text-white hover:bg-macos-blue-hover;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-blue focus:ring-opacity-50;
    @apply active:scale-95;
  }

  .btn-macos-secondary {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-gray-200 text-macos-text hover:bg-gray-300;
    @apply dark:bg-gray-700 dark:text-macos-text-dark dark:hover:bg-gray-600;
    @apply focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50;
    @apply active:scale-95;
  }

  .btn-macos-danger {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-macos-red text-white hover:bg-red-600;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-red focus:ring-opacity-50;
    @apply active:scale-95;
  }

  .btn-macos-success {
    @apply px-4 py-2 rounded-macos font-medium transition-all duration-150;
    @apply bg-macos-green text-white hover:bg-green-600;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-green focus:ring-opacity-50;
    @apply active:scale-95;
  }

  /* macOS Inputs */
  .input-macos {
    @apply w-full px-3 py-2 rounded-macos border border-macos-border;
    @apply bg-white text-macos-text placeholder-macos-text-secondary;
    @apply dark:bg-gray-800 dark:border-macos-border-dark dark:text-macos-text-dark;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-blue focus:border-transparent;
    @apply transition-all duration-150;
  }

  .textarea-macos {
    @apply input-macos resize-none;
  }

  .select-macos {
    @apply input-macos appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* macOS Toggle/Switch */
  .toggle-macos {
    @apply relative inline-flex h-6 w-11 items-center rounded-full;
    @apply bg-gray-200 transition-colors duration-200 ease-in-out;
    @apply focus:outline-none focus:ring-2 focus:ring-macos-blue focus:ring-offset-2;
  }

  .toggle-macos.checked {
    @apply bg-macos-blue;
  }

  .toggle-macos-thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-white shadow-lg;
    @apply transition duration-200 ease-in-out;
    @apply translate-x-1;
  }

  .toggle-macos.checked .toggle-macos-thumb {
    @apply translate-x-6;
  }

  /* macOS Cards */
  .card-macos {
    @apply bg-white rounded-macos-lg shadow-macos border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply transition-all duration-200;
  }

  .card-macos-hover {
    @apply card-macos hover:shadow-macos-lg hover:scale-[1.02];
    @apply cursor-pointer;
  }

  /* macOS Sidebar */
  .sidebar-macos {
    @apply bg-macos-sidebar border-r border-macos-border;
    @apply dark:bg-macos-sidebar-dark dark:border-macos-border-dark;
    @apply backdrop-blur-macos bg-opacity-80;
    @apply dark:bg-opacity-80;
  }

  .sidebar-item {
    @apply flex items-center px-3 py-2 rounded-macos text-sm font-medium;
    @apply text-macos-text hover:bg-gray-200 transition-colors duration-150;
    @apply dark:text-macos-text-dark dark:hover:bg-gray-700;
  }

  .sidebar-item.active {
    @apply bg-macos-blue text-white;
    @apply dark:bg-macos-blue;
  }

  /* macOS Progress */
  .progress-macos {
    @apply w-full bg-gray-200 rounded-full h-2;
    @apply dark:bg-gray-700;
  }

  .progress-macos-bar {
    @apply bg-macos-blue h-2 rounded-full transition-all duration-300;
  }

  /* macOS Modal */
  .modal-macos {
    @apply fixed inset-0 z-50 overflow-y-auto;
  }

  .modal-macos-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm;
  }

  .modal-macos-content {
    @apply relative bg-white rounded-macos-xl shadow-macos-xl border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply max-w-md mx-auto mt-20 p-6;
  }

  /* macOS Context Menu */
  .context-menu-macos {
    @apply bg-white rounded-macos shadow-macos-xl border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply py-1 min-w-48;
  }

  .context-menu-item {
    @apply flex items-center px-3 py-2 text-sm cursor-pointer;
    @apply text-macos-text hover:bg-gray-100 transition-colors duration-150;
    @apply dark:text-macos-text-dark dark:hover:bg-gray-700;
  }

  .context-menu-separator {
    @apply my-1 border-t border-macos-border;
    @apply dark:border-macos-border-dark;
  }

  /* macOS Segmented Control */
  .segmented-macos {
    @apply inline-flex bg-gray-200 rounded-macos p-1;
    @apply dark:bg-gray-700;
  }

  .segmented-item {
    @apply px-3 py-1 text-sm font-medium rounded-macos-sm transition-all duration-150;
    @apply text-macos-text hover:text-macos-blue cursor-pointer;
    @apply dark:text-macos-text-dark dark:hover:text-macos-blue;
  }

  .segmented-item.active {
    @apply bg-white text-macos-blue shadow-sm;
    @apply dark:bg-gray-600 dark:text-white;
  }

  /* macOS Toast/Notification */
  .toast-macos {
    @apply bg-white rounded-macos-lg shadow-macos-xl border border-macos-border;
    @apply dark:bg-gray-800 dark:border-macos-border-dark;
    @apply p-4 max-w-sm animate-slide-up;
  }

  .toast-success {
    @apply toast-macos border-l-4 border-l-macos-green;
  }

  .toast-error {
    @apply toast-macos border-l-4 border-l-macos-red;
  }

  .toast-warning {
    @apply toast-macos border-l-4 border-l-macos-orange;
  }

  .toast-info {
    @apply toast-macos border-l-4 border-l-macos-blue;
  }

  /* Recording Overlay */
  .recording-overlay {
    @apply fixed inset-0 z-50 bg-black bg-opacity-80 backdrop-blur-sm;
    @apply flex items-center justify-center;
  }

  .recording-content {
    @apply bg-white rounded-macos-xl shadow-macos-xl p-8 text-center;
    @apply dark:bg-gray-800;
    @apply animate-bounce-in;
  }

  .recording-pulse {
    @apply w-4 h-4 bg-macos-red rounded-full animate-pulse-soft;
  }

  /* Scrollbar styles */
  .scrollbar-macos {
    scrollbar-width: thin;
    scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
  }

  .scrollbar-macos::-webkit-scrollbar {
    @apply w-2;
  }

  .scrollbar-macos::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-macos::-webkit-scrollbar-thumb {
    @apply bg-gray-400 bg-opacity-50 rounded-full;
    @apply hover:bg-opacity-70 transition-all duration-150;
  }

  .scrollbar-macos::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }
}

/* Utility classes */
@layer utilities {
  .glass-effect {
    @apply backdrop-blur-macos bg-opacity-80;
  }

  .text-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

/* Traffic lights (window controls) */
.traffic-lights {
  @apply flex space-x-2 p-3;
}

.traffic-light {
  @apply w-3 h-3 rounded-full transition-all duration-150 cursor-pointer;
}

.traffic-light:hover {
  @apply scale-110;
}

.traffic-light.close {
  @apply bg-macos-red hover:bg-red-600;
}

.traffic-light.minimize {
  @apply bg-macos-yellow hover:bg-yellow-600;
}

.traffic-light.maximize {
  @apply bg-macos-green hover:bg-green-600;
}